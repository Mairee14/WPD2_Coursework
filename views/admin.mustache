<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Admin Dashboard</title>
        <!-- Link to Tailwind CSS -->
        <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
        <!-- Link to Font Awesome icons -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    </head>

    <body class="bg-gray-200">
        <!-- Navigation Bar -->
        <nav class="bg-gray-800 text-white p-4">
            <div class="container mx-auto flex justify-between items-center">
                <h1 class="text-2xl font-bold">Admin Dashboard</h1>
                <ul class="flex space-x-4 items-center">
                    <!-- Notifications Dropdown -->
                    <li class="relative">
                        <button class="relative block h-8 w-8 rounded-full overflow-hidden shadow focus:outline-none">
                            <img class="h-full w-full object-cover"
                                src="https://images.unsplash.com/photo-1612837017953-4b6b7b0e6b0f?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8YWRtaW58ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80"
                                alt="Your avatar">
                        </button>
                        <div class="absolute right-0 p-2 hidden bg-white border rounded shadow-md min-w-full mt-12">
                            <ul class="space-y-4">
                                <li class="flex">
                                    <img class="h-8 w-8 rounded-full object-cover"
                                        src="https://images.unsplash.com/photo-1612837017953-4b6b7b0e6b0f?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8YWRtaW58ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80"
                                        alt="Your avatar">
                                    <div class="ml-3">
                                        <p class="font-semibold">Admin</p>
                                        <p class="text-xs text-gray-600">Admin</p>
                                    </div>
                                </li>
                                <li>
                                    <a href=""
                                        class="hover:bg-gray-100 block transition duration-150 ease-in-out">Profile</a>
                                </li>
                                <li>
                                    <a href="#"
                                        class="hover:bg-gray-100 block transition duration-150 ease-in-out">Settings</a>
                                </li>
                                <li>
                                    <a href="#"
                                        class="hover:bg-gray-100 block transition duration-150 ease-in-out">Logout</a>
                                </li>
                            </ul>
                        </div>
                        
                    <li>
                        <div class="flex items-center">
                            <img src="https://via.placeholder.com/40" alt="Profile" class="w-8 h-8 rounded-full">
                            <p class="ml-2">Admin</p>
                        </div>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="container mx-auto mt-4 grid grid-cols-12 gap-4">
            <!-- Sidebar -->
            <div class="col-span-3 bg-gray-800 h-screen px-8 py-4">
                <ul class="mt-6">
                    <li id="dashboardMenu" class="mb-2 flex items-center">
                        <i class="fas fa-tachometer-alt text-gray-400 mr-3"></i>
                        <a href="#" class="text-gray-300 hover:text-white">Dashboard</a>
                    </li>
                    <li id="usersMenu" class="mb-2 flex items-center">
                        <i class="fas fa-users text-gray-400 mr-3"></i>
                        <a href="#" class="text-gray-300 hover:text-white">Users</a>
                    </li>
                    <li id="eventsMenu" class="mb-2 flex items-center">
                        <i class="fas fa-users text-gray-400 mr-3"></i>
                        <a href="#" class="text-gray-300 hover:text-white">Events</a>
                    </li>
                    <li id="logoutMenu" class="mb-2 flex items-center">
                        <i class="fas fa-cog text-gray-400 mr-3"></i>
                        <a href="/form/logout" class="text-gray-300 hover:text-white">Logout</a>
                    </li>
                </ul>
            </div>

            <!-- Main Content Area -->
            <div class="col-span-9 p-10">
                <h2 class="text-2xl font-bold mb-6">Dashboard</h2>
                <div id="dashboardContent" class="bg-white p-6 rounded-lg shadow-md">
                    <p>Welcome to the admin dashboard!</p>
                    
                </div>



                <div id="usersContent" class="bg-white p-6 rounded-lg shadow-md mt-10" style="display: none;">
                    <p>All Users</p>
                    <button id="addAlumniBtn"
                        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                        Add Alumni
                    </button>

                    <div id="alumniForm"
                        class="max-w-sm mx-auto mt-20 mb-8 bg-white p-8 border border-gray-300 shadow-sm rounded-md">
                        <form action="/auth/user" method="POST">
                            <h2 class="text-2xl text-center mb-4">Signup</h2>
                            <div class="mb-4">
                                <label for="name" class="block text-gray-700">Name:</label>
                                <input type="text" id="name" name="name" required
                                    class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500">
                            </div>
                            <div class="mb-4">
                                <label for="email" class="block text-gray-700">Email:</label>
                                <input type="email" id="email" name="email" required
                                    class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500">
                            </div>
                            <div class="mb-4">
                                <label for="password" class="block text-gray-700">Password:</label>
                                <input type="password" id="password" name="password" required
                                    class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500">
                            </div>
                            <div class="mb-4">
                                <label for="confirmPassword" class="block text-gray-700">Confirm Password:</label>
                                <input type="password" id="confirmPassword" name="confirmPassword" required
                                    class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500">
                            </div>
                            <div class="mb-4">
                                <label for="yearGroup" class="block text-gray-700">Year Group:</label>
                                <select id="yearGroup" name="yearGroup" type="text" required
                                    class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500">
                                    <option value="select">Select Year Group</option>
                                    <option value="year">2021</option>
                                    <option value="group">2020</option>
                                    <option value="entity">2019</option>

                                </select>
                            </div>
                            <div class="mb-4">
                                <label for="location" class="block text-gray-700">Location:</label>
                                <input type="text" id="location" name="location" required
                                    class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500">
                            </div>
                            <div>
                                <input type="submit" value="Sign Up"
                                    class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded cursor-pointer">
                            </div>
                        </form>
                    </div>

                    <h1 class="text-2xl mb-4">User Management</h1>
                    <div class="overflow-x-auto">
                        <table id="userTable" class="min-w-full divide-y divide-gray-200 text-black">
                            <thead>
                                <tr>
                                    <th scope="col"
                                        class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        Name</th>
                                    <th scope="col"
                                        class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        Email</th>
                                    <th scope="col"
                                        class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        Action</th>
                                    <th scope="col" class="px-6 py-3 bg-gray-50"></th>
                                </tr>
                            </thead>
                            <tbody id="userData" class="divide-y divide-gray-200">
                                {{#userData}}
                                <tr>
                                    <td>{{name}}</td>
                                    <td>{{email}}</td>
                                    <td class="py-2">
                                        <button onclick="editUser('{{_id}}')"
                                            class="px-4 py-2 bg-blue-500 text-white rounded-md mr-2">Edit</button>
                                        <button onclick="deleteUser('{{_id}}')"
                                            class="px-4 py-2 bg-red-500 text-white rounded-md">Remove</button>
                                    </td>
                                </tr>
                                {{/userData}}
                            </tbody>

                        </table>

                    </div>
                </div>










                <div id="eventsContent" class="bg-white p-6 rounded-lg shadow-md mt-10" style="display: none;">
                    <p>All Events!</p>
                    <button id="addAlumnieventBtn"
                        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                        Add AlumniEvent
                    </button>

                    <div class="flex flex-wrap justify-center">
                        {{#eventData}}
                        <div class="max-w-md mx-4 mt-20 bg-white p-8 border border-gray-300 shadow-sm mb-4">
                            <h2 class="text-2xl text-center mb-4">Alumni Event Card</h2>
                            <div id="eventCard{{eventid}}" class="mb-4">
                                <div class="font-bold mb-2">Event Name: <span
                                        id="eventName{{eventid}}">{{eventname}}</span></div>
                                <div class="mb-2">Event Category: <span
                                        id="eventCategory{{eventid}}">{{category}}</span></div>
                                <div class="mb-2">Event Date: <span id="eventDate{{eventid}}">{{date}}</span></div>
                                <div class="mb-2">Event Location: <span
                                        id="eventLocation{{eventid}}">{{location}}</span></div>
                                <div class="mb-2">Event Description: <span
                                        id="eventDescription{{eventid}}">{{description}}</span></div>
                            </div>
                            <div class="flex justify-between">
                                <button id="{{ id }}"
                                    class="edit-event-button px-4 py-2 bg-blue-500 text-white">Edit</button>
                                <button id="{{ id }}"
                                    class="delete-event-button px-4 py-2 bg-red-500 text-white">Delete</button>
                            </div>
                        </div>


                        <div id="{{ id }}"
                            class="edit-event-modal fixed top-0 left-0 w-full h-full bg-gray-900 bg-opacity-50 flex items-center justify-center hidden">
                            <div class="bg-white p-8 border border-gray-300 shadow-md">
                                <h2 class="text-2xl text-center mb-4">Edit Event</h2>
                                <form class="edit-form" action="/alumni-events/{{ id }}" method="POST">
                                    <div class="mb-2">
                                        <label for="eventname" class="block font-bold mb-1">Event Name:</label>
                                        <input type="text" name="eventname" id="name"
                                            class="w-full border border-gray-300 rounded px-2 py-1"
                                            value="{{eventname}}">
                                    </div>
                                    <div class="mb-2">
                                        <label for="category" class="block font-bold mb-1">Event Category:</label>
                                        <input type="text" name="category" id="category"
                                            class="w-full border border-gray-300 rounded px-2 py-1"
                                            value="{{category}}">
                                    </div>
                                    <div class="mb-2">
                                        <label for="date" class="block font-bold mb-1">Event Date:</label>
                                        <input type="date" name="date" id="date"
                                            class="w-full border border-gray-300 rounded px-2 py-1" value="{{date}}">
                                    </div>
                                    <div class="mb-2">
                                        <label for="location" class="block font-bold mb-1">Event Location:</label>
                                        <input type="text" name="location" id="location"
                                            class="w-full border border-gray-300 rounded px-2 py-1"
                                            value="{{location}}">
                                    </div>
                                    <div class="mb-2">
                                        <label for="description" class="block font-bold mb-1">Event Description:</label>
                                        <input type="text" name="description" id="description"
                                            class="w-full border border-gray-300 rounded px-2 py-1"
                                            value="{{description}}">
                                    </div>
                                    <div class="flex justify-between">
                                        <button type="submit" class="px-4 py-2 bg-blue-500 text-white">Save</button>
                                        <button type="button" class="px-4 py-2 bg-red-500 text-white">Cancel</button>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <!-- delete event -->
                        <div id="{{ id }}"
                            class="delete-event-modal fixed top-0 left-0 w-full h-full bg-gray-900 bg-opacity-50 flex items-center justify-center hidden">
                            <div class="bg-white p-8 border border-gray-300 shadow-md">
                                <h2 class="text-2xl text-center mb-4">Edit Event</h2>
                                <form class="delete-form" action="/alumni-events/delete/{{ id }}" method="POST">
                                    <p>Do you want to delete?</p>
                                    <div class="flex justify-between">
                                        <button type="submit" class="px-4 py-2 bg-blue-500 text-white">Delete</button>
                                        <button type="button" class="px-4 py-2 bg-red-500 text-white">Cancel</button>
                                    </div>
                                </form>
                            </div>
                        </div>

                        {{/eventData}}
                    </div>












                    <script>
                        document.addEventListener("DOMContentLoaded", function () {
                            const addAlumniBtn = document.getElementById("addAlumniBtn");
                            const alumniForm = document.getElementById("alumniForm");

                            addAlumniBtn.addEventListener("click", function () {
                                // Toggle form visibility when the button is clicked
                                if (alumniForm.style.display === "none") {
                                    alumniForm.style.display = "block";
                                } else {
                                    alumniForm.style.display = "none";
                                }
                            });
                        });
                    </script>

                    <script>
                        document.addEventListener("DOMContentLoaded", function () {
                            const dashboardContent = document.getElementById("dashboardContent");
                            const usersContent = document.getElementById("usersContent");
                            const eventsContent = document.getElementById("eventsContent");

                            const dashboardMenu = document.getElementById("dashboardMenu");
                            const usersMenu = document.getElementById("usersMenu");
                            const eventsMenu = document.getElementById("eventsMenu");

                            dashboardMenu.addEventListener("click", function (e) {
                                e.preventDefault();
                                dashboardContent.style.display = "block";
                                usersContent.style.display = "none";
                                eventsContent.style.display = "none";
                            });

                            usersMenu.addEventListener("click", function (e) {
                                e.preventDefault();
                                dashboardContent.style.display = "none";
                                usersContent.style.display = "block";
                                eventsContent.style.display = "none";
                            });

                            eventsMenu.addEventListener("click", function (e) {
                                e.preventDefault();
                                dashboardContent.style.display = "none";
                                usersContent.style.display = "none";
                                eventsContent.style.display = "block";
                            });
                        });
                    </script>








                    <!-- Script to load Font Awesome icons -->
                    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>
                    <!-- Script to load Font Awesome icons -->
                    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>
                </div>
            </div>
    </body>

</html>